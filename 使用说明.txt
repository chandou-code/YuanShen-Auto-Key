YuanShen.exe 进程监听器使用说明
====================================

功能概述：
自动监听 YuanShen.exe 进程，当检测到进程启动时自动运行空格+F自动按键脚本，
当检测到进程关闭时自动关闭脚本。

使用方法：

方法1：使用批处理文件（推荐）
双击运行 "监听YuanShen启动.bat" 即可启动监听器。

方法2：直接运行Python脚本
1. 激活虚拟环境
2. 运行命令：python yuanshen_monitor.py

工作流程：
1. 启动监听器后，程序会每2秒检查一次 YuanShen.exe 进程
2. 当检测到 YuanShen.exe 启动时：
   - 自动启动空格+F模式的自动按键脚本
   - 显示启动信息和进程ID
3. 当检测到 YuanShen.exe 关闭时：
   - 自动关闭自动按键脚本
   - 显示关闭信息

注意事项：
1. 需要安装 psutil 库（首次运行时会自动安装）
2. 确保虚拟环境已正确配置
3. 监听器运行时，按 Ctrl+C 可以退出
4. 自动按键脚本启动后，使用鼠标侧键（通常是浏览器前进/后退键）来控制按键的开始/停止

文件说明：
- yuanshen_monitor.py: 主监听脚本
- 监听YuanShen启动.bat: 启动监听器的批处理文件
- __init__.py: 原始的自动按键脚本（已支持命令行参数）
- 管理员启动.py: 以管理员权限启动脚本的工具
- requirements.txt: 项目依赖文件

命令行参数支持：
原始脚本现在支持通过命令行参数直接指定模式：
- python __init__.py --mode 1  # 空格+F模式
- python __init__.py --mode 2  # 长按右键模式

重要改进：
1. 自动管理员权限：监听器会自动请求管理员权限启动自动按键脚本
2. 减少警告：已优化PIL库的警告信息
3. 自动依赖安装：批处理文件会自动检查并安装所需依赖
4. 更好的错误处理：提供更详细的错误信息和解决建议

使用提示：
- 首次使用时会自动安装依赖包
- 监听器启动时会自动检查YuanShen.exe进程
- 当检测到游戏启动时，会弹出UAC提示请求管理员权限，请点击"是"
- 自动按键脚本启动后，使用鼠标侧键控制按键的开始/停止