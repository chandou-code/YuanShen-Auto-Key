# YuanShen Auto Key - åŸç¥è‡ªåŠ¨æŒ‰é”®å·¥å…·

<div align="center">

![åŸç¥](https://img.shields.io/badge/æ¸¸æˆ-åŸç¥-blue)
![Python](https://img.shields.io/badge/Python-3.11+-green)
![Windows](https://img.shields.io/badge/å¹³å°-Windows-lightgrey)
![License](https://img.shields.io/badge/è®¸å¯è¯-MIT-orange)

[![ä¾¿æºç‰ˆ](https://img.shields.io/badge/ç‰ˆæœ¬-ä¾¿æºç‰ˆ1.0-brightgreen)](#-ä¾¿æºç‰ˆ)
[![è‡ªåŠ¨ç›‘å¬](https://img.shields.io/badge/åŠŸèƒ½-è‡ªåŠ¨ç›‘å¬-success)](#-ä¸»è¦åŠŸèƒ½)

</div>

## ğŸ® é¡¹ç›®ç®€ä»‹

YuanShen Auto Key æ˜¯ä¸€ä¸ªä¸“ä¸ºåŸç¥æ¸¸æˆè®¾è®¡çš„è‡ªåŠ¨åŒ–æŒ‰é”®å·¥å…·ã€‚å®ƒèƒ½å¤Ÿè‡ªåŠ¨ç›‘å¬åŸç¥æ¸¸æˆçš„å¯åŠ¨å’Œå…³é—­ï¼Œå¹¶åœ¨æ¸¸æˆè¿è¡Œæ—¶æä¾›è‡ªåŠ¨æŒ‰é”®è·³è¿‡å‰§æƒ…åŠŸèƒ½ï¼Œå¸®åŠ©ç©å®¶ç®€åŒ–é‡å¤æ€§æ“ä½œã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

### ğŸ”„ æ™ºèƒ½è¿›ç¨‹ç›‘å¬
- **è‡ªåŠ¨æ£€æµ‹æ¸¸æˆå¯åŠ¨**ï¼šå½“æ£€æµ‹åˆ° YuanShen.exe è¿›ç¨‹å¯åŠ¨æ—¶ï¼Œè‡ªåŠ¨å¯åŠ¨è‡ªåŠ¨æŒ‰é”®è„šæœ¬
- **è‡ªåŠ¨å…³é—­è„šæœ¬**ï¼šå½“æ¸¸æˆå…³é—­æ—¶ï¼Œè‡ªåŠ¨åœæ­¢æŒ‰é”®è„šæœ¬
- **å®æ—¶çŠ¶æ€æ˜¾ç¤º**ï¼šæ˜¾ç¤ºå½“å‰ç›‘å¬çŠ¶æ€å’Œè„šæœ¬è¿è¡ŒçŠ¶æ€

### ğŸ¯ è‡ªåŠ¨æŒ‰é”®æ¨¡å¼
- **ç©ºæ ¼+Fæ¨¡å¼**ï¼ˆé»˜è®¤ï¼‰ï¼šæ¨¡æ‹Ÿè¿ç»­çš„ç©ºæ ¼å’ŒFæŒ‰é”®æ“ä½œ
- **é•¿æŒ‰å³é”®æ¨¡å¼**ï¼šæŒç»­æŒ‰ä½é¼ æ ‡å³é”®
- **é¼ æ ‡ä¾§é”®æ§åˆ¶**ï¼šä½¿ç”¨é¼ æ ‡ä¾§é”®ï¼ˆå‰è¿›/åé€€é”®ï¼‰æ§åˆ¶æŒ‰é”®çš„å¼€å§‹/åœæ­¢

### ğŸ›¡ï¸ æƒé™ç®¡ç†
- **è‡ªåŠ¨ç®¡ç†å‘˜æƒé™**ï¼šè‡ªåŠ¨è¯·æ±‚å¿…è¦çš„ç®¡ç†å‘˜æƒé™
- **å®‰å…¨æƒé™å¤„ç†**ï¼šä¼˜é›…å¤„ç†æƒé™æå‡è¿‡ç¨‹

### ğŸ¨ ç”¨æˆ·ç•Œé¢
- **å®æ—¶é€šçŸ¥**ï¼šæ˜¾ç¤ºè„šæœ¬å¯åŠ¨/åœæ­¢çš„é€šçŸ¥å¼¹çª—
- **çŠ¶æ€æŒ‡ç¤ºå™¨**ï¼šå½©è‰²å›¾æ ‡æ˜¾ç¤ºå½“å‰çŠ¶æ€
- **ä¸­æ–‡ç•Œé¢**ï¼šå®Œå…¨ä¸­æ–‡åŒ–çš„ç”¨æˆ·ç•Œé¢

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“¦ ä¾¿æºç‰ˆï¼ˆæ¨èï¼‰

1. **ä¸‹è½½ä¾¿æºç‰ˆ**
   ```bash
   # å…‹éš†é¡¹ç›®
   git clone https://github.com/your-username/yuanshen-auto-key.git
   cd yuanshen-auto-key
   
   # è¿è¡Œä¸€é”®ä¾¿æºç‰ˆåˆ›å»ºå™¨
   ä¸€é”®ä¾¿æºç‰ˆ.bat
   ```

2. **ä½¿ç”¨ä¾¿æºç‰ˆ**
   - å°†ç”Ÿæˆçš„ `YuanShenAutoKey` æ–‡ä»¶å¤¹å¤åˆ¶åˆ°ç›®æ ‡ç”µè„‘
   - åŒå‡» `å¯åŠ¨ç›‘å¬å™¨.bat`
   - å¯åŠ¨åŸç¥æ¸¸æˆå³å¯è‡ªåŠ¨å¼€å§‹

### ğŸ”§ å¼€å‘ç‰ˆ

å¦‚æœä½ å·²æœ‰Pythonç¯å¢ƒï¼š

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/your-username/yuanshen-auto-key.git
   cd yuanshen-auto-key
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   pip install -r requirements.txt
   ```

3. **è¿è¡Œç¨‹åº**
   ```bash
   # æ–¹å¼1ï¼šä½¿ç”¨æ‰¹å¤„ç†æ–‡ä»¶
   ç›‘å¬YuanShenå¯åŠ¨.bat
   
   # æ–¹å¼2ï¼šç›´æ¥è¿è¡ŒPythonè„šæœ¬
   python yuanshen_monitor.py
   ```

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**ï¼šWindows 7 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Pythonç‰ˆæœ¬**ï¼š3.11+ï¼ˆå¼€å‘ç‰ˆï¼‰
- **ç®¡ç†å‘˜æƒé™**ï¼šéœ€è¦ï¼ˆç”¨äºæ¨¡æ‹ŸæŒ‰é”®ï¼‰
- **ç½‘ç»œè¿æ¥**ï¼šé¦–æ¬¡åˆ›å»ºä¾¿æºç‰ˆæ—¶éœ€è¦

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨æµç¨‹

1. **å¯åŠ¨ç›‘å¬å™¨**ï¼šè¿è¡Œ `å¯åŠ¨ç›‘å¬å™¨.bat`
2. **å¯åŠ¨æ¸¸æˆ**ï¼šæ­£å¸¸å¯åŠ¨åŸç¥æ¸¸æˆ
3. **è‡ªåŠ¨æŒ‰é”®**ï¼š
   - æ¸¸æˆå¯åŠ¨åè‡ªåŠ¨å¼€å§‹ç©ºæ ¼+FæŒ‰é”®
   - ä½¿ç”¨é¼ æ ‡ä¾§é”®æ§åˆ¶æŒ‰é”®çš„å¼€å§‹/åœæ­¢
4. **å…³é—­æ¸¸æˆ**ï¼šå…³é—­åŸç¥åè„šæœ¬è‡ªåŠ¨åœæ­¢

### é¼ æ ‡ä¾§é”®æ§åˆ¶

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| é¼ æ ‡ä¾§é”®1/2 | åˆ‡æ¢è‡ªåŠ¨æŒ‰é”®å¼€å¯/å…³é—­ |
| ESCé”® | å®Œå…¨é€€å‡ºè„šæœ¬ |

### æ¨¡å¼åˆ‡æ¢

å¦‚æœä½ éœ€è¦æ‰‹åŠ¨é€‰æ‹©æ¨¡å¼ï¼š

```bash
# ç©ºæ ¼+Fæ¨¡å¼
python __init__.py --mode 1

# é•¿æŒ‰å³é”®æ¨¡å¼  
python __init__.py --mode 2
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
ç©ºæ ¼F/
â”œâ”€â”€ README.md                    # é¡¹ç›®è¯´æ˜æ–‡ä»¶
â”œâ”€â”€ requirements.txt             # Pythonä¾èµ–åˆ—è¡¨
â”œâ”€â”€ ä½¿ç”¨è¯´æ˜.txt               # è¯¦ç»†ä½¿ç”¨è¯´æ˜
â”œâ”€â”€ æ‰“åŒ…è¯´æ˜.md               # ä¾¿æºç‰ˆåˆ¶ä½œæŒ‡å—
â”‚
â”œâ”€â”€ æ ¸å¿ƒè„šæœ¬/
â”‚   â”œâ”€â”€ __init__.py            # ä¸»è‡ªåŠ¨æŒ‰é”®è„šæœ¬
â”‚   â”œâ”€â”€ yuanshen_monitor.py   # è¿›ç¨‹ç›‘å¬å™¨
â”‚   â”œâ”€â”€ ç®¡ç†å‘˜å¯åŠ¨.py        # ç®¡ç†å‘˜æƒé™å¯åŠ¨å™¨
â”‚   â””â”€â”€ build_exe.py          # PyInstalleræ‰“åŒ…è„šæœ¬
â”‚
â”œâ”€â”€ å¯åŠ¨è„šæœ¬/
â”‚   â”œâ”€â”€ ç›‘å¬YuanShenå¯åŠ¨.bat    # ä¸»ç›‘å¬å™¨å¯åŠ¨å™¨
â”‚   â”œâ”€â”€ ç©ºæ ¼F.bat           # ä¼ ç»Ÿå¯åŠ¨å™¨
â”‚   â”œâ”€â”€ ç©ºæ ¼Få¯åŠ¨.bat        # ç®¡ç†å‘˜å¯åŠ¨å™¨
â”‚   â”œâ”€â”€ åˆ›å»ºä¾¿æºç¯å¢ƒ.bat      # ä¾¿æºç¯å¢ƒåˆ›å»ºå™¨
â”‚   â””â”€â”€ ä¸€é”®ä¾¿æºç‰ˆ.bat       # ä¸€é”®ä¾¿æºç‰ˆåˆ›å»ºå™¨
â”‚
â””â”€â”€ ä¾¿æºç‰ˆ/                  # ç”Ÿæˆçš„ä¾¿æºç‰ˆç›®å½•
    â”œâ”€â”€ python/               # å†…ç½®Pythonç¯å¢ƒ
    â”œâ”€â”€ å¯åŠ¨ç›‘å¬å™¨.bat       # ä¾¿æºç‰ˆå¯åŠ¨å™¨
    â””â”€â”€ ä½¿ç”¨è¯´æ˜.txt         # ä¾¿æºç‰ˆè¯´æ˜
```

## ğŸ› ï¸ æŠ€æœ¯å®ç°

### æ ¸å¿ƒæŠ€æœ¯æ ˆ
- **è¯­è¨€**ï¼šPython 3.11+
- **GUIæ¡†æ¶**ï¼šTkinterï¼ˆæ ‡å‡†åº“ï¼‰
- **å›¾åƒå¤„ç†**ï¼šPIL/Pillow
- **è¾“å…¥æ¨¡æ‹Ÿ**ï¼šPynput
- **è¿›ç¨‹ç®¡ç†**ï¼šPsutil
- **ç³»ç»ŸAPI**ï¼šctypesï¼ˆWindows APIï¼‰

### å…³é”®ç‰¹æ€§

#### ğŸ”„ è¿›ç¨‹ç›‘å¬æœºåˆ¶
```python
def check_yuanshen_process(self):
    """æ£€æŸ¥ YuanShen.exe è¿›ç¨‹æ˜¯å¦å­˜åœ¨"""
    for proc in psutil.process_iter(['pid', 'name']):
        try:
            if proc.info['name'].lower() == 'yuanshen.exe':
                return True, proc.info['pid']
        except (psutil.NoSuchProcess, psutil.AccessDenied, psutil.ZombieProcess):
            continue
    return False, None
```

#### ğŸ¯ æŒ‰é”®æ¨¡æ‹Ÿ
```python
def auto_space_f(self):
    """ç©ºæ ¼+Fæ¨¡å¼ - è¿ç»­æ¨¡æ‹Ÿç©ºæ ¼å’ŒFæŒ‰é”®"""
    controller = keyboard.Controller()
    while self.running and self.active:
        controller.press(' ')
        time.sleep(0.05)
        controller.release(' ')
        time.sleep(0.1)
        
        controller.press('f')
        time.sleep(0.05)
        controller.release('f')
```

#### ğŸ›¡ï¸ ç®¡ç†å‘˜æƒé™æå‡
```python
def run_python_as_admin(script_path, args=None):
    """ä»¥ç®¡ç†å‘˜æƒé™è¿è¡ŒPythonè„šæœ¬"""
    shell32 = ctypes.WinDLL("shell32", use_last_error=True)
    result = shell32.ShellExecuteW(
        None, "runas", sys.executable, 
        f'"{script_abs_path}" {" ".join(args) if args else ""}',
        os.path.dirname(script_abs_path), 1
    )
```

## ğŸ”§ é…ç½®é€‰é¡¹

### è‡ªå®šä¹‰é…ç½®

ä½ å¯ä»¥ä¿®æ”¹ä»¥ä¸‹å‚æ•°æ¥è‡ªå®šä¹‰è¡Œä¸ºï¼š

```python
# åœ¨ yuanshen_monitor.py ä¸­ä¿®æ”¹
class YuanShenProcessMonitor:
    def __init__(self):
        self.check_interval = 2.0  # è¿›ç¨‹æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰
        self.process_name = "yuanshen.exe"  # ç›‘å¬çš„è¿›ç¨‹å

# åœ¨ __init__.py ä¸­ä¿®æ”¹æŒ‰é”®é—´éš”
def auto_space_f(self):
    time.sleep(0.05)  # æŒ‰é”®æŒ‰ä¸‹æŒç»­æ—¶é—´
    time.sleep(0.1)   # æŒ‰é”®é—´éš”æ—¶é—´
```

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-11-17)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ”„ è‡ªåŠ¨è¿›ç¨‹ç›‘å¬åŠŸèƒ½
- ğŸ¯ ç©ºæ ¼+Fè‡ªåŠ¨æŒ‰é”®æ¨¡å¼
- ğŸ›¡ï¸ ç®¡ç†å‘˜æƒé™è‡ªåŠ¨è·å–
- ğŸ“¦ å®Œæ•´ä¾¿æºç‰ˆæ”¯æŒ
- ğŸ¨ å®æ—¶é€šçŸ¥ç•Œé¢

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. **Fork** æœ¬é¡¹ç›®
2. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯** (`git checkout -b feature/AmazingFeature`)
3. **æäº¤æ›´æ”¹** (`git commit -m 'Add some AmazingFeature'`)
4. **æ¨é€åˆ†æ”¯** (`git push origin feature/AmazingFeature`)
5. **åˆ›å»ºPull Request**

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/yuanshen-auto-key.git
cd yuanshen-auto-key

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
venv\Scripts\activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è¿è¡Œæµ‹è¯•
python yuanshen_monitor.py
```

## â“ å¸¸è§é—®é¢˜

### Q: æç¤º"æ— æ³•æ‰¾åˆ° YuanShen.exe è¿›ç¨‹"ï¼Ÿ
A: ç¡®ä¿åŸç¥æ¸¸æˆæ­£åœ¨è¿è¡Œï¼Œä¸”è¿›ç¨‹åä¸º "YuanShen.exe"

### Q: æŒ‰é”®æ²¡æœ‰ååº”ï¼Ÿ
A: ç¡®ä¿ä»¥ç®¡ç†å‘˜æƒé™è¿è¡Œï¼Œå¹¶å…³é—­å…¶ä»–å¯èƒ½å†²çªçš„æŒ‰é”®å·¥å…·

### Q: ä¾¿æºç‰ˆä¸‹è½½å¤±è´¥ï¼Ÿ
A: æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œæˆ–æ‰‹åŠ¨ä¸‹è½½Pythonä¾¿æºç‰ˆ

### Q: æ€æ¯’è½¯ä»¶æŠ¥æ¯’ï¼Ÿ
A: æ·»åŠ åˆ°æ€æ¯’è½¯ä»¶ç™½åå•ï¼Œè¿™æ˜¯è¯¯æŠ¥

### Q: å¦‚ä½•åˆ‡æ¢åˆ°é•¿æŒ‰å³é”®æ¨¡å¼ï¼Ÿ
A: ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•° `python __init__.py --mode 2`

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## âš ï¸ å…è´£å£°æ˜

æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚è¯·éµå®ˆæ¸¸æˆçš„æœåŠ¡æ¡æ¬¾ï¼Œä¸è¦åœ¨å¤šäººæ¨¡å¼ä¸­ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·ã€‚ä½¿ç”¨æœ¬å·¥å…·æ‰€äº§ç”Ÿçš„ä»»ä½•åæœç”±ç”¨æˆ·è‡ªè¡Œæ‰¿æ‹…ã€‚

## ğŸ™ è‡´è°¢

- [Pynput](https://github.com/moses-palmer/pynput) - å¼ºå¤§çš„è¾“å…¥æ¨¡æ‹Ÿåº“
- [Psutil](https://github.com/giampaolo/psutil) - è·¨å¹³å°è¿›ç¨‹å’Œç³»ç»Ÿç›‘æ§åº“
- [Pillow](https://github.com/python-pillow/Pillow) - Pythonå›¾åƒå¤„ç†åº“
- [Tkinter](https://docs.python.org/3/library/tkinter.html) - Pythonæ ‡å‡†GUIåº“

---

<div align="center">

**ğŸŒŸ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStarï¼**

[![Star History Chart](https://api.star-history.com/svg?repos=chandou-code/yuanshen-auto-key&type=Date)](https://star-history.com/#chandou-code/yuanshen-auto-key&Date)


</div>
